(this["webpackJsonpstudent-mentor-fe"]=this["webpackJsonpstudent-mentor-fe"]||[]).push([[0],{19:function(e,t,c){"use strict";c.r(t);var s=c(9),n=c(1),a=c.n(n),r=c(7),l=c.n(r),o=c(3),i=c.n(o),d=c(6),j=c(2),u="https://student-mentor-backend.herokuapp.com/",b=c(5),m=c(0),x=function(){return Object(m.jsxs)("button",{className:"btn btn-primary",type:"button",disabled:!0,children:[Object(m.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0",Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})]})},O=function(){var e=Object(b.d)(),t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),l=Object(j.a)(r,2),o=l[0],O=l[1],h=Object(n.useState)(""),p=Object(j.a)(h,2),f=p[0],N=p[1];function v(){return(v=Object(d.a)(i.a.mark((function t(){var c,s,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),c={name:f,email:o},s="success",t.next=5,fetch("".concat(u,"students/create-student"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a(!1),200==r.statusCode?(N(""),O("")):s="error",e.show(r.message,{type:s});case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header student-card text-light",children:"Add New Student"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"studentEmail",children:"Student Email ID"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"studentEmail",value:o,onChange:function(e){return O(e.target.value)},"aria-describedby":"email"}),Object(m.jsx)("small",{id:"email",className:"form-text text-muted",children:"To check whether the student already exists."})]})}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"studentName",children:"Student Name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"studentName",value:f,onChange:function(e){return N(e.target.value)},"aria-describedby":"name"})]})})]}),!0===s?Object(m.jsx)(x,{}):Object(m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return v.apply(this,arguments)},disabled:""===o||""===f,children:"Submit"})]})]})})},h=function(){var e=Object(b.d)(),t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(""),l=Object(j.a)(r,2),o=l[0],O=l[1],h=Object(n.useState)(""),p=Object(j.a)(h,2),f=p[0],N=p[1];function v(){return(v=Object(d.a)(i.a.mark((function t(){var c,s,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),c={name:f,email:o},s="success",console.log("res"),t.next=6,fetch("".concat(u,"mentors/create-mentor"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,a(!1),200==r.statusCode?(N(""),O("")):s="error",e.show(r.message,{type:s});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header mentor-card text-light",children:"Add New Mentor"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"studentEmail",children:"Mentor Email ID"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"studentEmail",value:o,onChange:function(e){return O(e.target.value)},"aria-describedby":"email"}),Object(m.jsx)("small",{id:"email",className:"form-text text-muted",children:"To check whether the student already exists."})]})}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12",children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"studentName",children:"Mentor Name"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"studentName",value:f,onChange:function(e){return N(e.target.value)},"aria-describedby":"name"})]})})]}),!0===s?Object(m.jsx)(x,{}):Object(m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return v.apply(this,arguments)},disabled:""===o||""===f,children:"Submit"})]})]})})},p=function(){return Object(m.jsx)("div",{className:"text-center spinner-border text-success",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})})},f=function(){var e=Object(b.d)(),t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!1),l=Object(j.a)(r,2),o=l[0],O=l[1],h=Object(n.useState)([]),f=Object(j.a)(h,2),N=f[0],v=f[1],g=Object(n.useState)(-1),y=Object(j.a)(g,2),S=y[0],w=y[1],k=Object(n.useState)([]),C=Object(j.a)(k,2),M=C[0],E=C[1],T=Object(n.useState)(-1),F=Object(j.a)(T,2),A=F[0],J=F[1];function D(){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(i.a.mark((function e(){var t,c,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),J(-1),w(-1),e.next=5,fetch("".concat(u,"students"));case 5:return t=e.sent,e.next=8,t.json();case 8:return c=e.sent,v(c),e.next=12,fetch("".concat(u,"mentors"));case 12:return s=e.sent,e.next=15,s.json();case 15:n=e.sent,E(n),a(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(d.a)(i.a.mark((function t(){var c,s,n,a,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),c=M.find((function(e,t){return A===t})),s={mentor:c.name},n="success",a=N.find((function(e,t){return S===t})).id,t.next=7,fetch("".concat(u,"students/assign-mentor/").concat(a),{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});case 7:return r=t.sent,t.next=10,r.json();case 10:l=t.sent,O(!1),200!=l.statusCode&&(n="error"),e.show(l.message,{type:n});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){D()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header student-card text-light",children:"Assign Mentor"}),Object(m.jsx)("div",{className:"card-body",children:1==s?Object(m.jsx)(p,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-12 col-sm-12 col-xs-12",children:Object(m.jsx)("div",{className:"d-flex justify-content-end mb-1",children:Object(m.jsxs)("button",{type:"button",className:"btn btn-dark btn-xs",onClick:D,children:[Object(m.jsx)("i",{className:"fas fa-sync"})," \xa0Reload Data"]})})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[Object(m.jsx)("b",{children:"Select Student"}),Object(m.jsx)("ul",{className:"list-group",children:N.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item list-group-item-action ".concat(S===t?"active":""),onClick:function(){return w(t)},children:e.name},t)}))})]}),Object(m.jsxs)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[Object(m.jsx)("b",{children:"Select Mentor"}),Object(m.jsx)("ul",{className:"list-group",children:M.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item list-group-item-action ".concat(A===t?"active":""),onClick:function(){return J(t)},children:e.name},t)}))})]})]}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 mt-2",children:!0===o?Object(m.jsx)(x,{}):Object(m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return B.apply(this,arguments)},disabled:-1===S||-1===A,children:"Map Mentor"})})]})})]})})},N=function(){var e=Object(b.d)(),t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(!1),l=Object(j.a)(r,2),o=l[0],O=l[1],h=Object(n.useState)([]),f=Object(j.a)(h,2),N=f[0],v=f[1],g=Object(n.useState)([]),y=Object(j.a)(g,2),S=y[0],w=y[1],k=Object(n.useState)(""),C=Object(j.a)(k,2),M=C[0],E=C[1];function T(){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(i.a.mark((function e(){var t,c,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(""),a(!0),e.next=4,fetch("".concat(u,"mentors"));case 4:return t=e.sent,e.next=7,t.json();case 7:return c=e.sent,w(c),e.next=11,fetch("".concat(u,"students"));case 11:return s=e.sent,e.next=14,s.json();case 14:n=e.sent,v(n),a(!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(d.a)(i.a.mark((function t(){var c,s,n,a,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),c=S.find((function(e){return M===e.name})),s=c.id,n="success",a={students:N.filter((function(e){return!0===e.selected}))},t.next=7,fetch("".concat(u,"mentors/assign-students/").concat(s),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});case 7:return r=t.sent,t.next=10,r.json();case 10:l=t.sent,O(!1),200!=l.statusCode&&(n="error"),e.show(l.message,{type:n});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){T()}),[]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-header mentor-card text-light",children:"Map Students to Mentor"}),Object(m.jsx)("div",{className:"card-body",children:1==s?Object(m.jsx)(p,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 d-flex justify-content-end mb-1",children:Object(m.jsxs)("button",{type:"button",className:"btn btn-dark btn-xs",onClick:T,children:[Object(m.jsx)("i",{className:"fas fa-sync"})," \xa0Reload Data"]})})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[Object(m.jsxs)("div",{className:"dropdown mt-3 mb-5",children:[Object(m.jsx)("button",{className:"btn btn-secondary btn-xs dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Select a Mentor"}),Object(m.jsx)("ul",{className:"dropdown-menu",children:S.map((function(e,t){return Object(m.jsx)("li",{className:"dropdown-item ".concat(M===e.name?"active":""),onClick:function(){var t;E(e.name),t=e,console.log(t,!!t.students),t.students?v(N.map((function(e){var c=0;return t.students.forEach((function(t){t.name===e.name&&(c++,e.selected=!0)})),c||(e.selected=!1),e}))):v(N.map((function(e){return e.selected=!1,e})))},children:e.name},t)}))})]}),""!==M?Object(m.jsx)("h4",{children:Object(m.jsx)("span",{className:"badge badge-light",children:M})}):""]}),Object(m.jsxs)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[Object(m.jsx)("b",{children:"Select Students"}),Object(m.jsx)("ul",{className:"list-group",children:N.map((function(e,t){return Object(m.jsx)("li",{className:"list-group-item mb-1 list-group-item-action ".concat(!0===e.selected?"active":""),onClick:function(){return e=t,void v(N.map((function(t,c){return c===e&&(t.selected=!t.selected),t})));var e},children:e.name},t)}))})]})]}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-12 col-sm-12 col-xs-12 mt-2",children:!0===o?Object(m.jsx)(x,{}):Object(m.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return A.apply(this,arguments)},disabled:""===M,children:"Assign Students"})})]})})]})})};var v=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h4",{className:"text-center text-light",children:"Student - Mentor Mapping Application"}),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 mb-1",children:Object(m.jsx)(O,{})}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 mb-1",children:Object(m.jsx)(h,{})}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12 ",children:Object(m.jsx)(f,{})}),Object(m.jsx)("div",{className:"col-xs-6 col-lg-6 col-md-6 col-sm-6 col-xs-12",children:Object(m.jsx)(N,{})})]})})]})},g=c(10),y={position:b.b.BOTTOM_CENTER,timeout:2e3,offset:"30px",transition:b.c.SCALE};l.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(b.a,Object(s.a)(Object(s.a)({template:g.a},y),{},{children:Object(m.jsx)(v,{})}))}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.fe32caf1.chunk.js.map